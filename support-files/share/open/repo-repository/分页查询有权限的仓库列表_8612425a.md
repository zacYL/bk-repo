# 分页查询有权限的仓库列表

功能描述：分页查询有权限的仓库列表

### 请求地址

```
/repo-repository/api/repo/page/{projectId}/{pageNumber}/{pageSize}
```

### 请求方法

`GET`

### 请求参数

#### 路径参数

| 字段         | 类型      | 必填  | 描述   |
|------------|---------|-----|------|
| projectId  | String  | 是   | 项目id |
| pageNumber | Integer | 是   | 当前页  |
| pageSize   | Integer | 是   | 分页大小 |

#### 查询参数

| 字段       | 类型      | 必填  | 描述                |
|----------|---------|-----|-------------------|
| name     | String  | 否   | 仓库名称(模糊匹配, 忽略大小写) |
| type     | String  | 否   | 仓库类型              |
| category | List    | 否   | 仓库类别              |
| actions  | List    | 否   | 动作权限类型            |
| usedInfo | Boolean | 否   | 仓库使用信息            |

### 返回结果

| 字段      | 说明     |
|---------|--------|
| code    | 返回码    |
| message | 错误信息   |
| data    | 数据     |
| traceId | 链路追踪id |

#### 响应体示例

```json
{
  "code": 0,
  "message": null,
  "data": {
    "pageNumber": 1,
    "pageSize": 20,
    "totalRecords": 5,
    "totalPages": 1,
    "records": [
      {
        "projectId": "test-xiaoyushen",
        "name": "local-docker",
        "type": "DOCKER",
        "category": "LOCAL",
        "public": false,
        "description": "",
        "configuration": {
          "type": "local",
          "webHook": {
            "webHookList": []
          },
          "cleanStrategy": null,
          "settings": {
            "system": false
          }
        },
        "storageCredentialsKey": null,
        "createdBy": "xiaoyushen",
        "createdDate": "2023-06-26T16:48:07.358",
        "lastModifiedBy": "xiaoyushen",
        "lastModifiedDate": "2023-06-26T16:48:07.358",
        "hasPermission": true,
        "permission": null,
        "artifacts": null,
        "quota": null,
        "used": 0,
        "coverStrategy": null
      },
      {
        "projectId": "test-xiaoyushen",
        "name": "maven1",
        "type": "MAVEN",
        "category": "LOCAL",
        "public": false,
        "description": "",
        "configuration": {
          "type": "local",
          "webHook": {
            "webHookList": []
          },
          "cleanStrategy": null,
          "settings": {
            "system": false
          }
        },
        "storageCredentialsKey": null,
        "createdBy": "xiaoyushen",
        "createdDate": "2023-06-19T13:53:39.452",
        "lastModifiedBy": "xiaoyushen",
        "lastModifiedDate": "2023-06-19T13:53:39.452",
        "hasPermission": true,
        "permission": null,
        "artifacts": null,
        "quota": null,
        "used": 0,
        "coverStrategy": "DISABLE"
      }
    ],
    "count": 5,
    "page": 1
  },
  "traceId": ""
}
```

#### data 字段说明

分页信息

| 字段           | 说明                     |
|--------------|------------------------|
| pageNumber   | 页码(从1页开始)              |
| pageSize     | 每页多少条                  |
| totalRecords | 总记录条数                  |
| totalPages   | 总页数                    |
| records      | **数据列表**               |
| count        | 已废弃, 由`totalRecords`代替 |
| page         | 已废弃, 由`pageNumber`代替   |

##### records 字段说明

仓库信息

| 字段                    | 说明                       |
|-----------------------|--------------------------|
| projectId             | 所属项目id                   |
| name                  | 仓库名称                     |
| type                  | 仓库类型                     |
| category              | 仓库类别                     |
| public                | 是否公开                     |
| description           | 简要描述                     |
| configuration         | 仓库配置信息(不同类别的仓库配置信息的结构不同) |
| storageCredentialsKey | 存储凭证key                  |
| createdBy             | 创建者                      |
| createdDate           | 创建日期                     |
| lastModifiedBy        | 上次修改者                    |
| lastModifiedDate      | 上次修改日期                   |
| hasPermission         | 在权限中心是否有查看权限             |
| permission            | 对当前用户的最高权限               |
| artifacts             | 制品数量                     |
| quota                 | 仓库配额                     |
| used                  | 仓库已使用容量                  |
| coverStrategy         | 覆盖策略                     |
