# 查询有权限的仓库列表

功能描述：查询指定项目下有权限的仓库列表



## 请求

#### 接口方法

`GET`

#### 接口地址

`/api/open/CPack/repo-repository/api/repo/list/{projectId}`

#### 请求头

| 字段                  | 类型   | 必填 | 描述               |
| --------------------- | ------ | ---- | ------------------ |
| X-DEVOPS-ACCESS-TOKEN | String | 是   | Devops用户访问令牌 |

#### 路径参数

| 字段      | 类型   | 必填 | 描述   |
| --------- | ------ | ---- | ------ |
| projectId | String | 是   | 项目ID |

#### 查询参数

| 字段       | 类型     | 必填  | 描述                |
|----------|--------|-----|-------------------|
| name     | String | 否   | 仓库名称(模糊匹配, 忽略大小写) |
| type     | String | 否   | 仓库类型              |
| category | List   | 否   | 仓库类别              |
| actions  | List   | 否   | 动作权限类型            |

#### 请求体

无

#### 请求示例

```bash
curl -H 'X-DEVOPS-ACCESS-TOKEN: <your_access_token>' 'https://devops.example.com/api/open/CPack/repo-repository/api/repo/list/{projectId}'
```



## 响应

#### 响应体示例

```json
{
  "code": 0,
  "message": null,
  "data": [
    {
      "projectId": "test-project",
      "name": "maven1",
      "type": "MAVEN",
      "category": "LOCAL",
      "public": false,
      "description": "",
      "configuration": {
        "type": "local",
        "webHook": {
          "webHookList": []
        },
        "cleanStrategy": null,
        "settings": {
          "system": false
        }
      },
      "storageCredentialsKey": null,
      "createdBy": "user1",
      "createdDate": "2023-06-19T13:53:39.452",
      "lastModifiedBy": "user1",
      "lastModifiedDate": "2023-06-19T13:53:39.452",
      "hasPermission": true,
      "permission": null,
      "artifacts": null,
      "quota": null,
      "used": 0,
      "coverStrategy": "DISABLE"
    },
    {
      "projectId": "test-project",
      "name": "mock-public-global",
      "type": "GENERIC",
      "category": "LOCAL",
      "public": false,
      "description": "",
      "configuration": {
        "type": "local",
        "webHook": {
          "webHookList": []
        },
        "cleanStrategy": null,
        "settings": {
          "system": true
        }
      },
      "storageCredentialsKey": null,
      "createdBy": "user1",
      "createdDate": "2023-05-26T11:30:24.874",
      "lastModifiedBy": "user1",
      "lastModifiedDate": "2023-05-26T11:30:48.282",
      "hasPermission": true,
      "permission": null,
      "artifacts": null,
      "quota": null,
      "used": 0,
      "coverStrategy": null
    }
  ],
  "traceId": ""
}
```
#### 响应体

| 字段    | 说明       |
| ------- | ---------- |
| code    | 返回码     |
| message | 错误信息   |
| data    | 数据       |
| traceId | 链路追踪id |

#### data 字段说明

仓库信息列表

| 字段                    | 说明                       |
|-----------------------|--------------------------|
| projectId             | 所属项目id                   |
| name                  | 仓库名称                     |
| type                  | 仓库类型                     |
| category              | 仓库类别                     |
| public                | 是否公开                     |
| description           | 简要描述                     |
| configuration         | 仓库配置信息(不同类别的仓库配置信息的结构不同) |
| storageCredentialsKey | 存储凭证key                  |
| createdBy             | 创建者                      |
| createdDate           | 创建日期                     |
| lastModifiedBy        | 上次修改者                    |
| lastModifiedDate      | 上次修改日期                   |
| hasPermission         | 在权限中心是否有查看权限             |
| permission            | 对当前用户的最高权限               |
| artifacts             | 制品数量                     |
| quota                 | 仓库配额                     |
| used                  | 仓库已使用容量                  |
| coverStrategy         | 覆盖策略                     |
