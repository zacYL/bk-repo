# 分页查询包

功能描述：分页查询包

### 请求地址

```
/repo-repository/api/package/page/{projectId}/{repoName}
```

### 请求方法

`GET`

### 请求参数

#### 请求头参数

| 字段                  | 类型   | 必填 | 描述                  |
| --------------------- | ------ | ---- | --------------------- |
| X-DEVOPS-ACCESS-TOKEN | String | 是   | OpenAPI认证token      |
| Authorization         | String | 是   | 制品库basic认证请求头 |

#### 路径参数

| 字段        | 类型     | 必填  | 描述   |
|-----------|--------|-----|------|
| projectId | String | 是   | 项目id |
| repoName  | String | 是   | 仓库名称 |

#### 查询参数

| 字段          | 类型      | 必填  | 描述             |
|-------------|---------|-----|----------------|
| pageNumber  | Integer | 否   | 当前页(默认第1页)     |
| pageSize    | Integer | 否   | 分页大小(默认20)     |
| packageName | String  | 否   | 包名称, 根据该字段模糊搜索 |

### 返回结果

| 字段      | 说明     |
|---------|--------|
| code    | 返回码    |
| message | 错误信息   |
| data    | 数据     |
| traceId | 链路追踪id |

#### 响应体示例

```json
{
  "code": 0,
  "message": null,
  "data": {
    "pageNumber": 1,
    "pageSize": 20,
    "totalRecords": 3,
    "totalPages": 1,
    "records": [
      {
        "id": "646adf693feff36344c91134",
        "createdBy": "xiaoyushen",
        "createdDate": "2023-05-22T11:20:09.21",
        "lastModifiedBy": "admin",
        "lastModifiedDate": "2023-06-13T17:56:56.445",
        "projectId": "test-xiaoyushen",
        "repoName": "scan_tool",
        "name": "bkrepo-dependency-check",
        "key": "docker://bkrepo-dependency-check",
        "type": "DOCKER",
        "latest": "0.0.5",
        "downloads": 3,
        "versions": 2,
        "description": null,
        "versionTag": {},
        "extension": {},
        "historyVersion": [
          "0.0.7",
          "0.0.5"
        ]
      },
      {
        "id": "64a233d9867fa716c391f58a",
        "createdBy": "admin",
        "createdDate": "2023-07-03T10:35:05.177",
        "lastModifiedBy": "admin",
        "lastModifiedDate": "2023-07-03T10:35:05.179",
        "projectId": "test-xiaoyushen",
        "repoName": "scan_tool",
        "name": "bkrepo-scancode-toolkit",
        "key": "docker://bkrepo-scancode-toolkit",
        "type": "DOCKER",
        "latest": "latest",
        "downloads": 0,
        "versions": 1,
        "description": null,
        "versionTag": {},
        "extension": {},
        "historyVersion": [
          "latest"
        ]
      }
    ],
    "count": 3,
    "page": 1
  },
  "traceId": ""
}
```

#### data 字段说明

分页信息

| 字段           | 说明                     |
|--------------|------------------------|
| pageNumber   | 页码(从1页开始)              |
| pageSize     | 每页多少条                  |
| totalRecords | 总记录条数                  |
| totalPages   | 总页数                    |
| records      | **数据列表**               |
| count        | 已废弃, 由`totalRecords`代替 |
| page         | 已废弃, 由`pageNumber`代替   |

##### records 字段说明

包总览信息

| 字段               | 说明     |
|------------------|--------|
| id               | 包唯一id  |
| createdBy        | 创建者    |
| createdDate      | 创建时间   |
| lastModifiedBy   | 修改者    |
| lastModifiedDate | 修改时间   |
| projectId        | 所属项目id |
| repoName         | 所属仓库名称 |
| name             | 包名称    |
| key              | 包唯一key |
| type             | 包类型    |
| latest           | 最新版名称  |
| downloads        | 下载次数   |
| versions         | 版本数量   |
| description      | 包简要描述  |
| versionTag       | 版本标签   |
| extension        | 扩展字段   |
| historyVersion   | 历史版本   |
