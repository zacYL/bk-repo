# maven高级搜索
功能描述：maven高级搜索



## 请求

#### 接口方法

`GET`

#### 接口地址

`/api/open/CPack/repo-maven/ext/search/gavc/{projectId}/{pageNumber}/{pageSize}`

#### 请求头

| 字段                  | 类型   | 必填 | 描述               |
| --------------------- | ------ | ---- | ------------------ |
| X-DEVOPS-ACCESS-TOKEN | String | 是   | Devops用户访问令牌 |

#### 路径参数

| 字段       | 类型   | 必填 | 描述     |
| ---------- | ------ | ---- | -------- |
| projectId  | String | 是   | 项目ID   |
| pageNumber | Int    | 是   | 页码数   |
| pageSize   | Int    | 是   | 每页大小 |

#### 查询参数
g, a, v, c 四个查询条件不能全为空

| 字段  | 类型   | 必填                  | 描述                           |
| ----- | ------ | --------------------- | ------------------------------ |
| g     | string | 否（a,v,c不全为空时） | groupID                        |
| a     | string | 否（g,v,c不全为空时） | artifactId                     |
| v     | string | 否（g,a,c不全为空时） | version                        |
| c     | string | 否（g,a,v不全为空时） | classifier                     |
| repos | string | 否                    | 仓库名列表，多个仓库以逗号分隔 |

#### 请求体

无

#### 请求示例

```bash
curl -H 'X-DEVOPS-ACCESS-TOKEN: <your_access_token>' \
'https://devops.example.com/api/open/CPack/repo-maven/ext/search/gavc/{projectId}/{pageNumber}/{pageSize}?g=org.apache.commons&a=commons-lang3&v=3.12.0&repos=maven-local'
```



## 响应

#### 响应示例

```json
{
  "code": 0,
  "message": null,
  "data": {
    "pageNumber": 1,
    "pageSize": 20,
    "totalRecords": 4,
    "totalPages": 1,
    "records": [
      {
        "uri": "http://127.0.0.1/maven/test/maven/com/mycompany/app/my-app/1.0-3/my-app-1.0-3.jar"
      },
      {
        "uri": "http://127.0.0.1/maven/test/maven/com/mycompany/app/my-app/1.0-3/my-app-1.0-3.pom"
      },
      {
        "uri": "http://127.0.0.1/maven/test/maven1/com/mycompany/app/my-app/1.0-3/my-app-1.0-3.jar"
      },
      {
        "uri": "http://127.0.0.1/maven/test/maven1/com/mycompany/app/my-app/1.0-3/my-app-1.0-3.pom"
      }
    ],
    "page": 1,
    "count": 4
  },
  "traceId": ""
}
```

#### 响应体

| 字段      | 说明     |
|---------|--------|
| code    | 返回码    |
| message | 错误信息   |
| data    | 数据     |
| traceId | 链路追踪id |

##### data 字段说明

分页信息

| 字段           | 说明                     |
|--------------|------------------------|
| pageNumber   | 页码(从1页开始)              |
| pageSize     | 每页多少条                  |
| totalRecords | 总记录条数                  |
| totalPages   | 总页数                    |
| records      | **数据列表**               |
| count        | 已废弃, 由`totalRecords`代替 |
| page         | 已废弃, 由`pageNumber`代替   |

##### records 字段说明

文件下载链接列表
