# 分页查询指定镜像名称的版本
功能描述：分页查询指定镜像名称的版本



## 请求

#### 接口方法

`GET`

#### 接口地址

`/api/open/CPack/repo-oci/ext/tag/{projectId}/{repoName}/{imageName}`

#### 请求头

| 字段                  | 类型   | 必填 | 描述               |
| --------------------- | ------ | ---- | ------------------ |
| X-DEVOPS-ACCESS-TOKEN | String | 是   | Devops用户访问令牌 |

#### 路径参数

| 字段        | 类型     | 必填  | 描述            |
|-----------|--------|-----|---------------|
| projectId | String | 是   | 项目ID          |
| repoName  | String | 是   | 仓库名称          |
| imageName | String | 是   | 镜像名称（可能为多层路径） |

#### 查询参数

| 字段       | 类型   | 必填 | 描述                        |
| ---------- | ------ | ---- | --------------------------- |
| pageNumber | Int    | 是   | 页码数                      |
| pageSize   | Int    | 是   | 每页大小                    |
| tag        | String | 否   | tag名称（版本号），模糊查询 |

#### 请求体

无

#### 请求示例

```bash
curl -H 'X-DEVOPS-ACCESS-TOKEN: <your_access_token>' \
    'https://devops.example.com/api/open/CPack/repo-oci/ext/tag/{projectId}/{repoName}/{imageName}?pageNumber=0&pageSize=0&tag=string'
```



## 响应

#### 响应示例

```json
{
  "code":0,
  "message":null,
  "data":{
    "toatalRecords":100,
    "records":[
      {
        "tag":"latest",
        "stageTag":"",
        "size":524,
        "lastModifiedBy":"admin",
        "lastModifiedDate":"2020-09-10T14:48:22.846",
        "downloadCount":0,
        "registryUrl":"bkrepo.example.com/test/test/php:latest"
      },
      {
        "tag":"v1",
        "stageTag":"",
        "size":524,
        "lastModifiedBy":"admin",
        "lastModifiedDate":"2020-09-10T14:49:37.904",
        "downloadCount":0,
        "registryUrl":"bkrepo.example.com/test/test/php:v1"
      }
    ]
  },
  "traceId":""
}
```

#### 响应体

| 字段      | 说明     |
|---------|--------|
| code    | 返回码    |
| message | 错误信息   |
| data    | 数据     |
| traceId | 链路追踪id |

##### data 字段说明

镜像tag信息

| 字段           | 描述    |
|--------------|-------|
| records      | tag列表 |
| totalRecords | tag数量 |

##### records 字段说明

| 字段               | 描述    |
|------------------|-------|
| tag              | tag名称 |
| stageTag         | 制品状态  |
| size             | 镜像大小  |
| lastModifiedBy   | 更新人   |
| lastModifiedDate | 更新时间  |
| downloadCount    | 下载次数  |
| registryUrl      | 镜像地址  |
